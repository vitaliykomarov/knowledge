Построим сеть с разделением на Vlan-ы

192.168.1.0/24
Задача: Проверить пинг в разных VLAN
VLAN 40 - native
VLAN 99 - black hole

192.168.1.10
VLAN 10 - SYSTEM

192.168.1.20
VLAN 20 - STUDENT

192.168.1.30
VLAN 30 - PROFESSOR

Настроим ПК
Настроим на коммутаторе Switch0 Vlan-ы и транк для передачи трафика нескольких Vlan-в
В режиме конфигурирования создаем все необходимые Vlan командой vlan 10 и тд, при выполнении команды произойдет переход к 
настройкам Vlan, в нем можно задать имя командой name %имя%

В режиме конфигурирования переходим к настройки интерфейса FastEthernet0/1, командой interface fa0/1
Затем назначаем Vlan командой switchport access vlan 20 и переводим порт в режим access командой switchport mode access
Настроим оставшиеся порты FastEthernet0/2 и FastEthernet0/3 с соответствующими Vlan-и 
Приступим к настройке транка на интерфейсе GigabitEthernet0/1
Переключим интерфейс в режим транка командой switchport mode trunk
Настроим VLAN 40 как native Vlan, трафик данного Vlan передается нетегированным, для этого введем switchport trunk native vlan 40
По умолчанию в транке разрешены все VLAN, но их можно ограничить, указав только конкретные Vlan-ы, которые могут передается
через конкретный транк, командой switchport trunk allowed vlan 10,20,30,99
Switch0 настроен

Аналогичным образом настроим Switch1
На коммутаторах Switch2 и Switch3 необходимо настроить два интерфейса GigabitEthernet
Vlan-ы настроены

Попробуем проверить сеть пингом, например с PC5, который находится в Vlan 30, пингонем PC1, 
так как это разные Vlan то пинг не пройдет
Теперь проверим PC2, пинг проходит
Сеть настроена